window.showModal=function(title,message){$('#modal-title').text(title);$('#modal-message').html(message);$('#modal-block').modal({showClose:false,fadeDuration:200});};$(function(){$('#modal-close-btn').click(function(){$.modal.close();});});$(document).ready(function(){$('.news2').hover(function(e){$(this).addClass('active');$('.news2:not(.active)').addClass('pasive');},function(){$('.news2').removeClass('pasive').removeClass('active');});});$(document).ready(function(){if($(window).width()>=960){}
$(document).on('click','.scrollToForm',function(e){e.preventDefault();$('.section-panel .form-content').removeClass('active');$('.section-panel .'+$(this).attr('data-target')).addClass('active');$('html, body').stop().animate({scrollTop:$('.section-panel .'+$(this).attr('data-target')).offset().top},0);var src=$('.form-content').find('.form-group.captcha #greCaptcha');var dist=$('.section-panel .form-content.active').find('.form-group.captcha');$(src).appendTo(dist)});$(document).on('click','.showFormContent',function(e){e.preventDefault();$('.section-panel .form-content').removeClass('active');$('.section-panel .form-content .wow').addClass('animated').css({'visibility':'visible'});$('.section-panel .'+$(this).attr('data-target')).addClass('active');var src=$(this).parents('.form-content').find('.form-group.captcha #greCaptcha');var dist=$('.section-panel .form-content.active').find('.form-group.captcha');$(src).appendTo(dist)});$(document).on('click','.burger',function(e){e.preventDefault();$(this).toggleClass('collapsed');$('.navbar').toggleClass('collapsed');});if($(window).width()>640){$('.navbar-nav > li.submenu').hover(function(e){e.preventDefault();$(this).find('ul').show();},function(e){$(this).find('ul').hide();});}
$(document).on('click','.navbar-nav > li.submenu > a',function(e){if($(window).width()<=640){e.preventDefault();$(this).closest('.submenu').find('ul').toggle();}});$(document).on('click','.tops-nav a',function(e){e.preventDefault();if(!$(this).hasClass('active')){$('.tops-nav a').removeClass('active');$(this).addClass('active');var self=$(this);$('.top-table').stop().animate({opacity:0},function(){$(this).hide();$('.top-table.'+self.attr('data-target')).stop().show().css({opacity:0}).animate({opacity:1});});}});$(window).resize(function(){posPopup();});$(window).resize();$('.overlay, .close').click(function(e){$('.overlay, .popup').removeClass('active');});$(document).on('click','.showpopup',function(e){e.preventDefault();showPopup($(this).attr('data-target'));});});function showPopup(className){$('.overlay').click();$('.popup.'+className).addClass('active');$('.overlay').addClass('active');$('html, body').animate({scrollTop:0},'1000');}
function posPopup(){$('.popup').each(function(i,el){topm=$(el).height()>$(window).height()?$(window).height()/2:$(el).height()/2;$(el).css({'margin-left':-$(el).width()/2,'margin-top':-topm});});}
$(document).ready(function(){$('.spoiler-button').click(function(){var spoiler=$('#'+$(this).data('id'));var isCloseMe=$(spoiler).is(':visible');$('.spoiler-content ').hide();if(!isCloseMe){$(spoiler).show();}
return false;});$('.spoiler-content ').hide();});$(function(){$('.ajax-form').submit(function(){var $form=$(this);var $errors=$($form.find('.errors'));$errors.html('');$.ajax({url:$form.attr('action'),method:$form.attr('method'),data:$form.serialize(),xhrFields:{withCredentials:true},dataType:'json'}).always(function(response){grecaptcha.reset();showMessage(response);}).done(function(response){if(response.success===1){location.href=response.hasOwnProperty('url')?response.url:'/';}});function showMessage(r){var modalMessages=r['modal-messages'];var modalTitle=r['modal-title'];if(modalTitle&&!$.isEmptyObject(modalMessages)){var modalMessage='';$.each(modalMessages,function(f){$.each(modalMessages[f],function(i){modalMessage+='<p>'+modalMessages[f][i]+'</p>';})});showModal(modalTitle,modalMessage);}}
return false;});$('form').on('click','.activateSubmit',function(event){var $el=$(event.currentTarget);var $submit=$('input[type=submit]',$(event.delegateTarget));if($el.is(':checkbox')){$submit.prop('disabled',!$el.prop('checked'));}});});